<?xml version="1.0" encoding="ISO-8859-1" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Frameset//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-frameset.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:f="http://xmlns.jcp.org/jsf/core"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
	xmlns:p="http://primefaces.org/ui">

<h:head>
</h:head>

<h:body style="background-color: rgb(53, 52, 52);">
	<div id="header">
		<ui:insert name="header">
			<ui:include src="/templates/menu.xhtml" />
		</ui:insert>
	</div>
	<br/>
	<div id="body">
		<p:panel>
			<h2><strong>PROFILE</strong></h2>
		</p:panel>

		<p:button value="Create New Profile" process="@this" onclick="PF('newProfileDialog').show();" 
		style="border-radius: 0.5rem; margin-top: 20px; background-color: #e91e5d;"/>

		
			<p:panel style="margin-top: 20px;"> 

				<p:commandButton oncomplete="PF('setupDialog').show()" value="+ New" title="+New"
				 style="background-color: #e91e5d;" > 
					<f:setPropertyActionListener value="#{setup}" target="#{setupBean.selectedSetup}" />
				 </p:commandButton> 
				</p:panel> 

				<p:dialog header="New Profile" widgetVar="setupDialog" modal="true" showEffect="fade" hideEffect="fade" resizable="false"> 
					<h:form>
			<p:messages id="messages" showDetail="false" closable="true">
				<p:autoUpdate/>
			</p:messages>
			<br/>

			
			

			<p:panel id="panel">
				<h2><strong>New Setup</strong></h2>
				<h:panelGrid columns="2" cellpadding="4">
					<h:outputText value="Name " />
					<p:inputText id="name" value="#{setupBean.setupModel.name}" required="true" requiredMessage="Name � obrigat�rio!"/>
					
					<h:outputText value="Description " />
					<p:inputTextarea id="description" value="#{setupBean.setupModel.description}" required="true" requiredMessage="Description � obrigat�rio!"
					validatorMessage="Desctiption precisa ter enter 10 e 50 caracteres">
						<f:validateLength minimum="10" maximum="50"/>
					</p:inputTextarea>
					
					<h:outputText value="Price " />
					<p:inputText id="price" value="#{setupBean.setupModel.price}" required="true" requiredMessage="Price � obrigat�rio!"
					validatorMessage="Valor m�nimo tem que ser maior que 0!">
						<f:validateDoubleRange minimum="0.1"/>
					</p:inputText>
					
					<p:commandButton value="Save" icon="pi pi-save" action="#{setupBean.save()}" update="panel" style="background-color: #e91e5d;"/>
					<p:commandButton value="Cancel" icon="pi pi-times" styleClass="ui-button-secondary"/>
				</h:panelGrid>
			</p:panel>
		</h:form>
			</p:dialog> 
			
		
		
	</div>
</h:body>
</html>
